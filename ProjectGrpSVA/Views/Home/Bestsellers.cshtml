@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section css {
    <link href="@Url.Content("~/Content/bootstrap.min.css")" rel="stylesheet" type="text/css" />
}

<style>
    #chat_container {
        width: 800px;
        height: 400px;
        border: 1px solid #ddd;
        padding: 1px;
        border-radius: 4px;
    }
</style>

<div class="col-md-12"><label /></div>
<div class="container">
    <h3>@ViewBag.explaination</h3>
</div>
<div class="col-md-12"><label /></div>
<div class="col-md-12"><label /></div>
<div id="chat_container">
    <canvas id="bar_chat"></canvas>
</div>
<script src="~/Scripts/Chart.js"></script>
<script>
        var repArray = @Html.Raw(Json.Encode(ViewBag.rep));
        var product = @Html.Raw(Json.Encode(ViewBag.product));

        var ctx = document.getElementById("bar_chat").getContext('2d');
        var barchat = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: product,
                datasets: [{
                    label: "Top 25 Best Selling Product",
                    data: repArray,
                    borderColor: "#30468e",
                    pointBorderColor: "#30468e",
                    pointBackgroundColor: "#30468e",
                    pointHoverBackgroundColor: "#30468e",
                    pointHoverBorderColor: "#30468e",
                    pointBorderWidth: 10,
                    pointHoverRadius: 10,
                    pointHoverBorderWidth: 1,
                    pointRadius: 3,
                    fill: false,
                    borderWidth: 4
                }]
            },

            options: {
                maintainAspectRatio: false,
                scales: {
                    xAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: 'Product'
                        },
                        ticks: { beginAtZero: true }
                    }]
                },
                scales: {
                    yAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: 'Product Sold'
                        },
                        ticks: { beginAtZero: true }
                    }]
                },

                legends: { display: false }
            }
        });

</script>
